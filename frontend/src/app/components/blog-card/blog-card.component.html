<ng-container [ngSwitch]="layout">

  <!-- SIDE LAYOUT -->
  <div *ngSwitchCase="'side'" class="card blog-card flex-md-row mb-4 shadow-sm h-100 border-0">
    <div class="col-md-4 p-0">
      <img
        *ngIf="blog.coverImage"
        [src]="blog.coverImage"
        alt="Cover"
        class="img-fluid h-100 w-100 rounded-start object-fit-cover"
        style="max-height: 220px;"
      />
    </div>
    <div class="col-md-8 d-flex flex-column p-3">
      <h5 class="mb-1">{{ blog.title }}</h5>
      <p class="card-text text-muted small text-truncate-3 mb-2">{{ blog.content |shorten:len}}</p>
      <div class="mt-auto d-flex justify-content-between align-items-center">
        <small class="text-muted">{{ blog.views_count }} views</small>
        <p class="text-primary fw-semibold mb-0" style="cursor: pointer;" (click)="goToBlog()">Read More →</p>
      </div>
    </div>
  </div>

  <!-- TOP LAYOUT -->
  <div *ngSwitchCase="'top'" class="card blog-card mb-4 shadow-sm h-100 border-0">
    <img
      *ngIf="blog.coverImage"
      [src]="blog.coverImage"
      alt="Cover"
      class="card-img-top object-fit-cover"
      style="max-height: 180px;"
    />
    <div class="card-body d-flex flex-column">
      <h5 class="card-title">{{ blog.title }}</h5>
      <p class="card-text text-truncate-3">{{ blog.content |shorten:len}}</p>
      <div class="mt-auto">
        <div class="d-flex align-items-center mb-2">
          <img
            *ngIf="blog.author_picture"
            [src]="blog.author_picture"
            alt="Author"
            class="rounded-circle me-2"
            style="width:32px; height:32px; object-fit:cover;"
          />
          <small class="text-muted">{{ blog.author_name || 'Unknown Author' }}</small>
          <small class="text-muted ms-auto">{{ blog.createdAt | date:'mediumDate' }}</small>
        </div>
        <div class="d-flex justify-content-between align-items-center">
          <small class="text-muted">{{ blog.views_count }} views</small>
          <p class="text-primary fw-semibold mb-0" style="cursor: pointer;" (click)="goToBlog()">Read More →</p>
        </div>
      </div>
    </div>
  </div>

</ng-container>
